<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hotline: Global Chaos Simulator</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{background:#0b0f1a;color:white;font-family:Arial;margin:0}
#container{display:flex;justify-content:center;gap:20px;padding:20px}
#game{width:550px;text-align:center}
#sidePanel{width:400px;background:#121a2b;padding:15px;border-radius:15px;display:flex;flex-direction:column;gap:15px;}
button{padding:10px;margin:5px;border:none;border-radius:10px;cursor:pointer;width:100%}
#bar{height:28px;background:#333;border-radius:20px;overflow:hidden;margin:15px 0}
#tension{height:100%;background:red;width:50%}
.card{background:#121a2b;padding:15px;border-radius:15px;margin-top:10px;text-align:left;min-height:120px}
#restartScreen{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.95);display:none;align-items:center;justify-content:center;flex-direction:column;text-align:center}
.bigBtn{font-size:28px;padding:20px 50px;background:#e74c3c;width:auto;margin-top:20px;border-radius:15px}
.used{background:gray;cursor:not-allowed}
canvas{background:#222;border-radius:10px;margin-top:10px}
#startBtn{margin-top:20px;background:#3498db;color:white;font-weight:bold;font-size:20px;padding:15px 30px;border-radius:15px}
#choices button{font-size:15px}
#cooldownMsg{color:#f39c12;font-weight:bold;margin-top:5px;height:20px}
#liveComments{background:#1c253b;border-radius:10px;padding:10px;flex-grow:1;overflow-y:auto;height:300px;font-size:14px;}
.liveComment{border-bottom:1px solid #2c3e50;padding:5px 0;margin-bottom:3px;}
.red{color:#e74c3c;}
.yellow{color:#f1c40f;}
.green{color:#2ecc71;}
</style>
</head>
<body>
<div id="container">
<div id="game">
<h1>‚òéÔ∏è Hotline: Global Chaos Simulator</h1>
<div>‚è±Ô∏è Time: <span id="time">0</span></div>
<div id="bar"><div id="tension"></div></div>
<div id="event" class="card">Press START to begin</div>
<div id="choices"></div>
<div id="cooldownMsg"></div>
<button id="startBtn" onclick="startGame()">START / RESTART</button>
</div>
<div id="sidePanel">
<button id="abilityBtn" onclick="useAbility()">üßä Emergency De-escalation</button>
<button onclick="startWar()">‚ò¢Ô∏è Start War</button>
<h3>üìä War Odds Live</h3>
<canvas id="oddsChart"></canvas>
<h3>üí¨ Live Comments</h3>
<div id="liveComments"></div>
</div>
<div id="restartScreen">
<h1 id="finalText"></h1>
<button class="bigBtn" onclick="startGame()">RESTART</button>
</div>

<script>
let tension=50,time=0,gameRunning=false,tensionTimer,oddsTimer,buttonCooldown=false,commentsTimer;
let abilityUsed=false,odds=50; let lastSituation="";
const ctx=document.getElementById("oddsChart");
const chart=new Chart(ctx,{type:"line",data:{labels:[],datasets:[{label:"War Probability %",data:[],borderColor:"yellow",tension:0.3}]},options:{scales:{y:{min:0,max:100}},animation:false}});

// Events, reactions, advisors, choices, live comments
const openings=["Breaking:","Urgent:","Live:","Alert:","FLASH:","Exclusive:","Developing:","Emergency:"];
const situations=[
"an unmarked drone spotted over the Gulf","a mysterious explosion in Iran","troops deployed near disputed waters",
"a cyber attack on infrastructure","a missile test surprises analysts","secret backchannel negotiations leak",
"a sanctions package announced","oil tanker caught fire mysteriously","GPS signals went haywire",
"a classified document leaked online","a military convoy blocked","air defense system locked on a jet",
"a cargo ship was hijacked","media claims Iran moved nukes","a protest sparked in Tehran",
"a hacker group posts sensitive data","a sudden blackout in a city","naval exercise turns tense",
"satellite goes offline","a weapons depot accidentally explodes","a spy plane detected",
"an attack on a refinery in Saudi Arabia","demonstrations erupt in Jerusalem",
"Al-Kaiuda claims responsibility for attack","ISXS cells detected in Dubai",
"Faux News reports escalating tension in Yemen","CNE covers missile launch near Israel",
"Neo York Times analyzes political instability in Lebanon","Al-J'Ziza posts live update from Gaza",
"Oil prices spike after tanker incidents","Unknown hackers disable banks in Qatar",
"Israel launches accidental disco ball over Tehran","Saudi Arabia misplaces oil tanker, everyone panics",
"Anonymous hacker posts meme as official threat","Drone mistakes balloon festival for military exercise",
"Sudden TikTok leak increases public panic","Fake peace treaty spreads on social media",
"Unplanned air parade triggers defense lockdown","Intelligence leak confuses advisors"
];
const reactions=[
"Markets crash globally","UN calls emergency meeting","Twitter goes wild",
"News channels switch to red graphics","Airlines reroute flights","Defense stocks surge",
"Journalists shouting questions","Allies demand clarification","The hotline rings nonstop",
"Analysts panic","Cyber experts issue alerts","Governments issue statements",
"Social media is flooded with memes","Experts speculate wildly","Public protests erupt",
"Military advisors whisper frantically","Satellite images are analyzed urgently",
"Intelligence agencies scramble","Warnings issued to diplomats"
];
const advisors=[
"The General: 'We must act immediately.'","The Diplomat: 'Call them. Now.'",
"The Press Secretary: 'No comments!!!'","Intelligence chief looks nervous.",
"An intern whispers: 'This is trending‚Ä¶'","A journalist is live outside.",
"Your allies are texting question marks.","Your phone battery is at 3%!","The Cyber Chief sighs heavily.",
"A rogue analyst tweets nonsense.","The CIA liaison winks.","A drone operator shrugs.",
"Your cabinet argues heatedly.","A military advisor consults maps."
];
const choicePool=[
{t:"Open direct hotline",e:-14},{t:"Issue calm public statement",e:-10},
{t:"Blame technical malfunction",e:-6},{t:"Request UN mediation",e:-12},
{t:"Delay response",e:5},{t:"Post strong speech",e:9},
{t:"Show military presence",e:14},{t:"Leak counter-intelligence",e:-8},
{t:"Do nothing",e:7},{t:"Backchannel negotiation",e:-15},
{t:"New sanctions",e:11},{t:"Recall diplomats",e:8},
{t:"Investigate mysterious explosion",e:-10},{t:"Send troops to patrol",e:12},
{t:"Public reassurance tweet",e:-8},{t:"Blame conspiracy theories",e:6},
{t:"Analyze satellite images",e:-9},{t:"Deploy air defense",e:13},
{t:"Call press conference",e:-7},{t:"Send humanitarian aid",e:-6},
{t:"Quietly meet foreign officials",e:-12},{t:"Stage photo op",e:-5},
{t:"Send viral meme to calm population",e:-8},{t:"Release military pigeons",e:5},
{t:"Tweet a cryptic quote",e:-6},{t:"Launch humanitarian aid disguised as missile",e:-9},
{t:"Conspiracy TikTok leak",e:6},{t:"Meme bomb on social media",e:-7},
{t:"Drone releases balloons instead of missiles",e:4},{t:"Fake press release",e:-5},
{t:"üíå Send Meme Diplomacy",e:-12},{t:"üé≠ Stage Fake Parade",e:-10},
{t:"ü§Ø Panic Tweet",e:10},{t:"üïµÔ∏è Spy Leak",e:-15},{t:"üí£ Surprise Bombing",e:20}
];
const liveComments=[
{t:"Analyst Joe: 'This is definitely going to escalate!'",c:"red"},
{t:"Market guru: 'Buy defense stocks, lol!'",c:"green"},
{t:"Random Twitter user: 'I told you so ü§¶‚Äç‚ôÇÔ∏è'",c:"green"},
{t:"Citizen X: 'Peace is overrated anyway.'",c:"green"},
{t:"Military Blogger: 'Deploy the pigeons!'",c:"red"},
{t:"Influencer: 'Make memes not war!'",c:"yellow"},
{t:"Satire Channel: 'This is peak chaos content üòÇ'",c:"yellow"},
{t:"Neo York Times commenter: 'This is trending worldwide!'",c:"yellow"},
{t:"Anonymous Hacker: 'Hehe chaos rules!'",c:"green"},
{t:"CNE reporter: 'Can someone explain what‚Äôs happening?'",c:"yellow"},
{t:"Al-J‚ÄôZiza intern: 'Should I even post this?'",c:"yellow"}
];

function startGame(){
document.getElementById("restartScreen").style.display="none";
tension=50;time=0;odds=50;abilityUsed=false;gameRunning=true;buttonCooldown=false;
document.getElementById("abilityBtn").disabled=false;document.getElementById("abilityBtn").classList.remove("used");
document.getElementById("cooldownMsg").innerText="";
document.getElementById("liveComments").innerHTML="";
chart.data.labels=[];chart.data.datasets[0].data=[];chart.update();
updateBar();nextEvent();
clearInterval(tensionTimer);clearInterval(oddsTimer);clearInterval(commentsTimer);
tensionTimer=setInterval(()=>{
time++;document.getElementById("time").innerText=time;
tension+=1+Math.floor(time/20);
clamp();updateBar();checkGame();
},1000);
oddsTimer=setInterval(updateOdds,1000);
commentsTimer=setInterval(addLiveComment,6000);
}

function nextEvent(){
if(!gameRunning) return;
let situation; do{situation=situations[Math.floor(Math.random()*situations.length)];}while(situation===lastSituation);
lastSituation=situation;
const text=openings[Math.floor(Math.random()*openings.length)]+" "+situation+".\n"+
reactions[Math.floor(Math.random()*reactions.length)]+".\n\n"+
advisors[Math.floor(Math.random()*advisors.length)];
document.getElementById("event").innerText=text;
const div=document.getElementById("choices");div.innerHTML="";
let shuffled=choicePool.sort(()=>0.5-Math.random()).slice(0,3);
shuffled.forEach(c=>{
const btn=document.createElement("button");btn.innerText=c.t;
btn.onclick=()=>{
if(!gameRunning||buttonCooldown) return;
buttonCooldown=true;document.getElementById("cooldownMsg").innerText="Cooldown...";
setTimeout(()=>{buttonCooldown=false;document.getElementById("cooldownMsg").innerText="";},1000);
let randomFactor=Math.floor(Math.random()*10)-5;
tension+=c.e+randomFactor;clamp();updateBar();checkGame();nextEvent();
};
div.appendChild(btn);
});
}

function useAbility(){if(!gameRunning||abilityUsed) return;
tension-=25;abilityUsed=true;
document.getElementById("abilityBtn").disabled=true;document.getElementById("abilityBtn").classList.add("used");
clamp();updateBar();
}

function startWar(){if(!gameRunning) return;endGame("‚ò¢Ô∏è You started the war.");}

function updateOdds(){
odds+=Math.random()*10-5+((tension-50)/20);if(odds<0)odds=0;if(odds>100)odds=100;
chart.data.labels.push("");chart.data.datasets[0].data.push(odds);
if(chart.data.labels.length>20){chart.data.labels.shift();chart.data.datasets[0].data.shift();}
chart.update();
}

function addLiveComment(){
if(!gameRunning) return;
const c=liveComments[Math.floor(Math.random()*liveComments.length)];
const div=document.getElementById("liveComments");
const p=document.createElement("div");p.className="liveComment "+c.c;p.innerText=c.t;
div.appendChild(p);
if(div.children.length>10) div.removeChild(div.children[0]);
div.scrollTop=div.scrollHeight;
}

function clamp(){if(tension<0)tension=0;if(tension>100)tension=100;}
function updateBar(){
document.getElementById("tension").style.width=tension+"%";
if(tension<30) color("#2ecc71"); else if(tension<70) color("orange"); else color("red");
}
function color(c){document.getElementById("tension").style.background=c;}
function checkGame(){
if(tension>=100) endGame("üí• Crisis Escalated");
if(tension<=0) endGame("üïäÔ∏è Historic Peace Deal");
}
function endGame(text){
gameRunning=false;clearInterval(tensionTimer);clearInterval(oddsTimer);clearInterval(commentsTimer);
document.getElementById("finalText").innerText=text+"\nYou lasted "+time+" seconds";
document.getElementById("restartScreen").style.display="flex";
}
</script>
</body>
</html>